<main [ngClass]="isDark ? 'bg-gray-900 text-gray-100' : 'bg-gray-100 text-gray-900'"
      class="flex flex-col items-center w-screen min-h-screen p-3">

  <div *ngIf="isLoading" class="loading">
    Loading...
  </div>

  <div *ngIf="!isLoading && errorMessage" class="error-message">
    <p class="text-3xl text-red-400">{{ errorMessage }}</p>
  </div>

  <div *ngIf="!isLoading && !errorMessage">
    <div class="dashboard-card">
      <h3>Welcome, {{ firstName }} {{ lastName }}</h3>
      <img [src]="userAvatar" alt="User Avatar" class="avatar">
      <p>Email: {{ email }}</p>
      <p>Role: {{ userRole }}</p>
    </div>

    <div class="dashboard-stats">
      <div class="stat-card">
        <h4>Courses</h4>
        <p>{{ coursesCount }}</p>
      </div>
      <div class="stat-card" *ngIf="userRole === 'ADMIN' || userRole === 'TEACHER'">
        <h4>Users</h4>
        <p>{{ usersCount }}</p>
      </div>
      <div class="stat-card">
        <h4>Completed Courses</h4>
        <p>{{ completedCoursesCount }}</p>
      </div>
      <div class="stat-card">
        <h4>Time Schedules</h4>
        <p>{{ timeSchedulesCount }}</p>
      </div>
    </div>

    <div *ngIf="canModify()" class="admin-actions">
      <button class="action-button" (click)="router.navigate(['/courses/manage'])">Manage Courses</button>
      <button class="action-button" (click)="router.navigate(['/users/manage'])">Manage Users</button>
      <button class="action-button" (click)="router.navigate(['/schedule/manage'])">Manage Time Schedules</button>
    </div>
  </div>
</main>
